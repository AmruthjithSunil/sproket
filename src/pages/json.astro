---
import Layout from "../layouts/Layout.astro";
---

<Layout>
    <!-- textarea size should not be changeable -->
    <textarea
        id="json-placeholder"
        style="width: 99.7vw; height: 98.97vh; border: 0; resize: none;"
    />
</Layout>

<script type="module">
    const jsonPlaceholder = document.querySelector("#json-placeholder");

    const clipboardText = await navigator.clipboard.readText();
    try {
        const beautifiedJson = JSON.stringify(
            JSON.parse(clipboardText),
            null,
            2
        );
        // jsonPlaceholder.innerHTML = beautifiedJson;
        jsonPlaceholder.value = beautifiedJson;
    } catch (error) {
        jsonPlaceholder.value = clipboardText;
    }
    if (clipboardText.trim() === "") {
        jsonPlaceholder.value = "Nothing in the clipboard";
    }
</script>
  